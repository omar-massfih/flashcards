What is the Python Data Model?	The set of protocols (special methods) that let objects support core language features and idiomatic syntax.
What are “special methods” in Python?	Methods with `__double_underscores__` that the interpreter calls to implement language features.
What does “dunder” mean?	“Double underscore” (before and after a name), e.g., `__len__`.
What does `obj[key]` use under the hood?	`obj.__getitem__(key)`
What does `len(obj)` use under the hood?	`obj.__len__()`
Should user code call special methods directly?	Usually no; prefer the related built-ins/syntax (e.g., `len(x)`, `iter(x)`, `str(x)`).
Why prefer built-ins over calling special methods directly?	Built-ins can add behavior and may be faster (especially for built-in types).
How does `for x in obj:` start iteration?	It calls `iter(obj)`, which uses `obj.__iter__()` or may fall back to `obj.__getitem__()`.
What two special methods are enough to make an object behave like a basic sequence?	`__len__` and `__getitem__`.
What features do `__len__` + `__getitem__` typically enable?	`len()`; indexing; slicing; iteration.
How can implementing standard protocols help you use the standard library?	Stdlib functions that expect those protocols can work without custom adapters (e.g., choosing an item from a sequence).
How does `x in collection` work if `__contains__` is missing?	It can do a sequential scan using iteration.
What is `__repr__` for?	Unambiguous representation for debugging/inspection; used by `repr()` and typically by the interactive console.
What is `__str__` for?	User-friendly display string; used by `str()` and `print()`.
If you implement only one, prefer `__repr__` or `__str__`?	`__repr__`.
What’s a good rule of thumb for `__repr__`?	Make it unambiguous; if possible, make it resemble code to recreate the object.
How do you force `repr` formatting in an f-string?	Use `!r`, e.g. ``f"{x!r}"``.
What does `abs(obj)` use under the hood?	`obj.__abs__()`
Which operator corresponds to `__add__`?	`+` (e.g., `a + b` triggers `a.__add__(b)`).
Which operator corresponds to `__mul__`?	`*` (e.g., `a * b` triggers `a.__mul__(b)`).
What’s the expected behavior of infix operators for user-defined types?	They usually return a new object and don’t mutate the operands.
What special method controls truthiness?	`__bool__`
If `__bool__` isn’t defined, what does Python use for truthiness?	`__len__` (zero → falsy; nonzero → truthy).
If neither `__bool__` nor `__len__` is defined, are instances truthy?	Yes; instances are truthy by default.
What must `__bool__` return?	A Boolean (`True` or `False`).
Why is `len(x)` not `x.len()` in Python (design rationale)?	`len` is a language-level operation optimized for built-ins, and user types participate via `__len__`.
Data model benefit for users of your class?	They use standard syntax for standard operations instead of memorizing custom method names.
Data model benefit for authors of classes?	Your objects “plug into” core features and the standard library by implementing the right special methods.
What warning does Python give about using `__*__` names?	Don’t invent/abuse `__*__` names outside documented uses; they may break without warning.
Why does Python treat many types uniformly as sequences (historical)?	It inherited ideas from ABC: generic operations across different sequence types.
What common operations do many Python sequences share?	Iteration; slicing; sorting; concatenation (across types like `str`, `list`, `bytes`, arrays, etc.).
What is a container sequence (Python)?	A sequence that holds references to contained objects (can be heterogeneous and nested).
What is a flat sequence (Python)?	A sequence that stores simple values in its own memory (typically one primitive machine type).
Why are flat sequences usually more memory-efficient than container sequences?	They store packed values (fewer separate Python objects/headers and references).
Give examples of mutable sequences (Python).	`list`; `bytearray`; `array.array`; `collections.deque`.
Give examples of immutable sequences (Python).	`tuple`; `str`; `bytes`.
What is a list comprehension (Python)?	An expression that builds a new list by transforming and/or filtering an iterable.
Why can a list comprehension be clearer than a for-loop when building a list?	Its intent is explicit: it always builds a new list (a for-loop can do many tasks).
When should you avoid using a list comprehension (Python)?	When you only want side effects and don’t use the resulting list—use a plain `for` loop instead.
Python syntax tip: why can list/dict/tuple literals and comps be multiline without backslashes?	Line breaks are ignored inside `[]`, `{}`, or `()`.
Listcomps vs `map`/`filter`: why often prefer list comprehensions (Python)?	They’re usually more readable and avoid awkward `lambda` usage while doing the same job.
Do list comprehension loop variables leak in Python 3?	No; comprehension variables have their own local scope (they don’t clobber outer names).
How do you build a Cartesian product with a list comprehension?	Use multiple `for` clauses, e.g. `[(c, s) for c in colors for s in sizes]`.
What is a generator expression (Python)?	A comprehension-like expression that yields items lazily via the iterator protocol (no intermediate list).
Why use a generator expression instead of a list comprehension to feed another constructor/loop?	It saves memory by producing items one at a time.
When can you omit parentheses around a generator expression in a function call?	When it’s the only positional argument (e.g., `tuple(x for x in it)`).
When are parentheses around a generator expression required?	When the call has other arguments too (e.g., `array('I', (x for x in it))`).
Tuples: what two roles do they play (Python)?	Records with positional fields, and immutable lists.
Why are tuples useful as records (Python)?	Field order/length is fixed; unpacking avoids error-prone indexing.
Tuple-as-immutable-list: what clarity does using a tuple provide?	Seeing a tuple signals its length won’t change.
Why can tuples be smaller/faster than lists (high level)?	Fixed-size allocation and less overhead enable optimizations compared to growable lists.
Why can a tuple’s value still change even though tuples are “immutable”?	If it contains references to mutable objects, those objects can mutate.
When is a tuple hashable, and how can you quickly check?	Only if all items are hashable; `hash(t)` raises `TypeError` if it contains mutable/unhashable items.
What is iterable unpacking (Python)?	Assigning items from an iterable into multiple variables without indexing (works with iterators too).
How do you swap two variables idiomatically (Python)?	`a, b = b, a`.
How do you pass a tuple as separate positional arguments (Python)?	Use `*t` in the call, e.g. `divmod(*t)`.
In unpacking assignment, what does `*rest` do?	It captures any remaining items into a list.
How many starred targets like `*rest` are allowed in one unpacking assignment?	At most one.
Where can the starred target appear in unpacking assignment?	At the start, middle, or end.
What is nested unpacking (Python)?	Unpacking nested structures by matching the nesting shape on the left-hand side.
How can unpacking assert an iterable has exactly one item (Python)?	Use a 1-item target like `[record] = iterable` (it raises if not exactly one).
What is structural pattern matching used for (Python ≥ 3.10)?	Matching data shapes and destructuring (binding parts) with `match`/`case`.
When does a sequence pattern match in `match`/`case` (Python)?	The subject is a sequence; pattern and subject lengths match; corresponding items (including nested) match.
In `match`/`case` patterns, what does `_` mean (Python)?	A wildcard that matches anything and is never bound to a value.
In a sequence pattern, what does `*rest` (or `*_`) do (Python)?	`*rest` matches remaining items and binds them as a list; `*_` matches and ignores them.
Are `str`, `bytes`, and `bytearray` treated as sequences in match/case patterns?	No; they’re treated as atomic values to avoid unintended matches.
What is a guard in `match`/`case` (Python)?	An `if` condition that is evaluated only after the pattern matches.
Why do Python slices/ranges exclude the stop index?	It makes lengths easy (`stop-start`) and allows clean splits like `s[:x]` and `s[x:]` without overlap.
What does the slice step/stride do (Python)?	`seq[a:b:c]` skips by `c`; negative steps iterate in reverse.
What does `seq[start:stop:step]` call under the hood (Python)?	`seq.__getitem__(slice(start, stop, step))`.
How can naming `slice()` objects improve readability (Python)?	It lets you label fixed-width fields/ranges instead of scattering hardcoded indices.
Slice assignment (Python): what must the RHS be, and what extra rule applies with a step?	RHS must be an iterable (even for one item); for stepped slices, RHS length must match the number of selected positions.
Do `+` and `*` mutate their sequence operands (Python)?	No; they create a new sequence and don’t change the originals.
Why is `[[...]] * n` (or `[['_']*m] * n`) a common bug pattern (Python)?	It repeats references to the same inner list, so one mutation affects multiple “rows”.
What’s the safe way to build a list of independent inner lists (Python)?	Use a list comprehension, e.g. `[['_']*m for _ in range(n)]`.
What determines whether `a += b` mutates in place (Python)?	If `__iadd__` exists it’s used (often in-place for mutables); otherwise Python falls back to `a = a + b` (new object).
Why can `t[2] += [...]` be surprising when `t` is a tuple containing a list?	It may mutate the inner list, then raise `TypeError` when trying to store back into the tuple (augmented assignment isn’t atomic).
`list.sort()` vs `sorted()` (Python): what’s the difference?	`list.sort()` sorts in place and returns `None`; `sorted()` returns a new list from any iterable.
What do `key=` and `reverse=` do in sorting (Python), and what does “stable” mean?	`key` computes sort keys; `reverse=True` reverses order; stable means equal keys keep their original relative order.
When is `array.array` a better choice than `list` (Python)?	When you need large homogeneous numeric data and want lower memory overhead.
What does an `array` typecode specify (Python)?	The underlying C storage type for items (and it restricts what values you can store).
What is `memoryview` used for (Python)?	To share/slice binary or numeric data without copying bytes (a shared-memory view).
Why use `collections.deque` for a FIFO queue instead of a list?	`deque` supports fast append/pop from both ends; `list.pop(0)` is costly because it shifts elements.
What happens when you append to a bounded `deque` that is full (Python)?	It discards an item from the opposite end to make room.
Why are dicts so fundamental in Python (implementation)?	Class/instance attributes, module namespaces, and function keyword arguments are represented with dictionaries in memory.
Where are Python built-ins stored (CPython, high level)?	In `__builtins__.__dict__` (a dict holding built-in types/objects/functions).
What data structure underlies Python `dict` (high level)?	A hash table.
Which built-in types are also based on hash tables (Python)?	`set` and `frozenset` (and `dict` itself).
What is a dict comprehension (Python)?	An expression that builds a `dict` from an iterable of key/value data (key: value pairs).
What does a dict comprehension look like (Python syntax)?	`{k: v for ...}` (optionally with `if` filters).
What does mapping unpacking with `**` do in a function call (Python)?	It expands a mapping into keyword arguments (e.g., `f(**d)`).
What restriction applies to mapping unpacking (`**`) in function calls (Python)?	Expanded keys must be strings, and duplicate keyword arguments are not allowed.
What does `**` do inside a dict literal (Python ≥ 3.5)?	It unpacks another mapping into the new dict (e.g., `{**d1, **d2}`).
In a dict literal with multiple `**` unpackings, what happens with duplicate keys (Python)?	Later occurrences overwrite earlier ones.
How do you merge two dicts with `|` (Python ≥ 3.9)?	`d3 = d1 | d2` creates a new mapping with keys from both (right operand wins on conflicts).
How do you merge dicts in place with `|=` (Python ≥ 3.9)?	`d1 |= d2` updates `d1` in place with items from `d2`.
In `d1 | d2`, which values win if keys overlap (Python)?	The right operand’s values (from `d2`) overwrite.
Pattern matching: what can mapping patterns match (Python ≥ 3.10)?	Instances of actual or virtual subclasses of `collections.abc.Mapping`.
Do mapping patterns care about key order (Python match/case)?	No; key order in the pattern is irrelevant (even if the subject is an `OrderedDict`).
Do mapping patterns require an exact match of all keys (Python match/case)?	No; mapping patterns succeed on partial matches (extra keys in the subject are allowed).
How can you capture extra key/value pairs in a mapping pattern (Python match/case)?	Use `**rest` to bind remaining items as a dict (`**rest` must be last).
In mapping pattern matching, does `defaultdict` create missing keys to satisfy a pattern?	No; pattern matching checks existing keys only (it uses `d.get(key, sentinel)`).
What are `Mapping` and `MutableMapping` in Python?	ABCs in `collections.abc` that formalize mapping interfaces (useful for `isinstance` checks).
Why prefer `isinstance(x, abc.Mapping)` over `type(x) is dict` (Python)?	It supports alternative mapping types, not just the concrete `dict`.
What does it mean for a key to be “hashable” (Python)?	It has a hash code that doesn’t change during its lifetime and supports equality comparison (`__hash__` + `__eq__`).
What must be true of equal hashable objects (Python)?	If `a == b`, then `hash(a) == hash(b)`.
Which common types are hashable by default (Python examples)?	Numbers, `str`, and `bytes` (flat immutable types).
When is a container type hashable (Python)?	If it’s immutable and all contained items are hashable (e.g., certain tuples).
Why is `frozenset` always hashable (Python)?	Because it can contain only hashable elements.
When is a `tuple` hashable (Python)?	Only if all its items are hashable (e.g., a tuple containing a list is unhashable).
Are hash codes stable across Python runs (CPython)?	Not necessarily; hashing is salted for security, so hash codes are only guaranteed stable within one process.
Why can a custom `__eq__` make hashability tricky (Python)?	To remain hashable, `__hash__` must stay consistent with `__eq__` and depend only on immutable state.
What is `dict.get(k, default)` for (Python)?	Fetching `d[k]` with a default instead of raising `KeyError` when `k` is missing.
Why can `dict.get` be suboptimal when updating a mutable value (Python)?	You may do a lookup, mutate, then do another lookup/store back—extra work and easy to write awkwardly.
What does `dict.setdefault(k, default)` do (Python)?	If `k` exists, returns `d[k]`; otherwise sets `d[k] = default` and returns it.
Why is `d.setdefault(k, []).append(x)` idiomatic (Python)?	It ensures a list exists at `k` with a single lookup, then appends.
What is `collections.defaultdict` (Python)?	A dict-like mapping that creates a default value on missing `d[k]` lookups using a `default_factory`.
What does `defaultdict.default_factory` do (Python)?	It’s a callable used to create and insert a default value when `__getitem__` sees a missing key.
When does a `defaultdict` call `default_factory` (Python)?	Only on `d[k]` lookups via `__getitem__`, not on `d.get(k)` or `k in d`.
What is the `__missing__` method for (Python mappings)?	A hook a `dict` subclass can define; `dict.__getitem__` calls it when a key is missing.
Does `k in d` trigger `__missing__` in a `dict` subclass (Python)?	No; membership tests don’t fall back to `__missing__` unless you implement that logic yourself.
Why must a `__missing__` implementation often special-case string keys (Python example)?	To avoid infinite recursion when `__missing__` retries lookup using a transformed key.
Why is subclassing `collections.UserDict` often easier than subclassing `dict` (Python)?	UserDict uses composition (`self.data`), avoiding some built-in shortcuts that can make subclassing `dict` tricky.
What is `types.MappingProxyType` (Python)?	A wrapper that provides a read-only, dynamic proxy view of an underlying mapping.
Is a `mappingproxy` (from `MappingProxyType`) a snapshot (Python)?	No; it’s dynamic—changes to the original mapping are reflected in the proxy.
What do `dict.keys()`, `dict.items()`, and `dict.values()` return (Python 3)?	View objects (`dict_keys`, `dict_items`, `dict_values`) that are dynamic projections.
Are dict view objects subscriptable (Python)?	No; they’re iterable and sized, but you can’t do `values[0]`.
Which dict views behave like sets (Python)?	`dict_keys` and `dict_items` support set operations like `&`, `|`, `-`, `^`.
When do set operations on `dict_items` fail (Python)?	If any value is unhashable (because items are `(key, value)` pairs that must be hashable).
How can dict key insertion order matter (Python ≥ 3.7)?	Iteration preserves insertion order as a language feature (implementation detail since CPython 3.6).
What is `collections.OrderedDict` mainly used for today (Python)?	Backward compatibility and cases needing its extra reordering operations.
How does `OrderedDict` equality differ from `dict` (Python)?	`OrderedDict` equality checks both keys/values and order.
What does `OrderedDict.move_to_end(k)` do (Python)?	Repositions an existing key to one end (useful for LRU-like logic).
What is `collections.ChainMap` (Python)?	A wrapper that searches multiple mappings in order as if they were one.
Where do updates go in a `ChainMap` (Python)?	Assignments/updates affect only the first (leftmost) mapping.
What is `collections.Counter` (Python)?	A mapping from keys to integer counts (useful for frequency counting / multiset behavior).
What does `Counter.update(iterable)` do (Python)?	It adds counts for elements from the iterable (instead of overwriting like `dict.update`).
What is a `set` in Python?	A collection of unique, hashable elements.
How do you create an empty set literal in Python?	You can’t; use `set()` because `{}` is an empty dict.
Why are set literals like `{1, 2, 3}` preferred over `set([1, 2, 3])` (Python)?	They’re more readable and avoid building an intermediate list (often faster).
Is there a `frozenset` literal syntax in Python?	No; create one with `frozenset(...)`.
What is a set comprehension (Python)?	An expression that builds a set: `{expr for ...}` (optionally with `if` filters).
What do the main set operators mean (Python)?	Union `|`; intersection `&`; difference `-`; symmetric difference `^`.
Do set infix operators like `a & b` accept any iterables (Python)?	No; infix operators require sets on both sides (methods like `.intersection(...)` accept iterables).
How can you remove duplicates while preserving first-seen order (Python ≥ 3.7)?	Use a dict: `list(dict.fromkeys(items))` (dict preserves insertion order).
Why is set membership testing fast (Python)?	Hash table lookup finds candidates by hash code with few probes on average.
Why is set/dict element ordering unreliable for sets (Python)?	Hashing is salted and resizing/reinsertion can change iteration order as the table grows.
Python 3: what does `str` represent?	Unicode text (a sequence of Unicode characters/code points).
Python 3: what does `bytes` represent?	An immutable sequence of bytes (integers 0–255).
Python 3: what does `bytearray` represent?	A mutable sequence of bytes (integers 0–255).
In Python 3, what does indexing a `bytes` or `bytearray` return?	An `int` (0–255), not a 1-character string.
In Python 3, what does slicing a `bytes` or `bytearray` return?	A new binary sequence of the same type (even for length-1 slices).
How do you create bytes from text in Python?	Encode a `str`, e.g. ``'café'.encode('utf-8')`` or ``bytes('café', encoding='utf-8')``.
How do you convert bytes to text in Python?	Decode, e.g. ``b'caf\\xc3\\xa9'.decode('utf-8')``.
What is a Unicode code point?	A number identifying a Unicode character (written like `U+0041`, up to `U+10FFFF`).
What is an encoding (Unicode context)?	An algorithm mapping code points ↔ byte sequences (e.g., UTF-8, UTF-16LE).
What is “encoding” vs “decoding”?	Encoding: code points → bytes; decoding: bytes → code points/text.
Why is `len(str)` vs `len(bytes)` often different?	`len(str)` counts Unicode characters; `len(bytes)` counts raw bytes in a particular encoding.
What is the literal syntax prefix for bytes in Python?	`b'...'` (a bytes literal).
In a bytes literal repr, how are printable ASCII bytes typically shown?	As their ASCII characters (roughly codes 32–126).
In a bytes literal repr, how are non-printable bytes typically shown?	With escapes like `\\xNN` (hex) or `\\t`, `\\n`, `\\r`, `\\\\`.
What string-like methods work on `bytes`/`bytearray` (high level)?	Most `str` methods that don’t require Unicode data or formatting; they operate on bytes values.
What’s a common gotcha for `bytes` methods vs `str` methods?	They generally expect `bytes` arguments (not `str`) for things like `.replace(...)`.
What does `bytes.fromhex(...)` do (Python)?	Builds bytes by parsing pairs of hex digits (spaces optional).
Name 3 common ways to build `bytes`/`bytearray` (Python).	From a `str` + encoding; from an iterable of ints 0–255; from a buffer-protocol object (copying its bytes).
What happens when you create `bytes(...)` from a buffer-like object (Python)?	It copies the underlying bytes (it does not share memory).
Which exception do you usually get when encoding `str` → `bytes` fails?	`UnicodeEncodeError`.
Which exception do you usually get when decoding `bytes` → `str` fails?	`UnicodeDecodeError`.
What does `errors='strict'` do in encode/decode (Python)?	Raises an exception on the first encoding/decoding error (the default).
Why is `errors='ignore'` usually a bad idea when encoding?	It silently drops unencodable characters (data loss).
What does `errors='replace'` do when encoding text (Python)?	Replaces unencodable characters with `?` (data loss, but visible).
What does `errors='xmlcharrefreplace'` do when encoding (Python)?	Replaces unencodable characters with XML character references like `&#227;`.
What does `errors='replace'` do when decoding bytes (Python)?	Replaces invalid byte sequences with `�` (U+FFFD REPLACEMENT CHARACTER).
What is “mojibake”?	Garbled text caused by decoding bytes with the wrong encoding.
Why can decoding with the wrong legacy 8-bit encoding be dangerous?	It can succeed without errors but produce mojibake (silent corruption).
Can you reliably discover the encoding of arbitrary bytes?	Not in general; you usually must be told (metadata/protocol/file format).
Heuristic: why is UTF-8 “hard to mis-decode” compared to many encodings?	Random/wrong bytes are unlikely to form valid UTF-8, so decoding often raises `UnicodeDecodeError` instead of mojibake.
What is the “Unicode sandwich” best practice?	Decode bytes → `str` as early as possible; process text as `str`; encode to bytes as late as possible.
Why should you pass `encoding=` when opening text files in Python?	Default encodings vary by platform/locale and can change, causing mojibake or errors.
What does `open(..., 'rb')` return vs `open(..., 'r')`?	Binary mode returns bytes from a buffered binary stream; text mode returns `str` via a `TextIOWrapper` decoding bytes.
In text mode, what does `file.write(text)` return (Python)?	The number of Unicode characters written (not the number of bytes on disk).
Why can a file contain more bytes than characters written (UTF-8 example)?	Some characters encode to multiple bytes (e.g., `'é'` is 2 bytes in UTF-8).
What determines the default encoding for `open()` in text mode (high level)?	Locale/user preferences (e.g., `locale.getpreferredencoding()`).
Why do encoding defaults bite Windows users more often (high level)?	Different defaults may be used for files vs console vs redirected I/O, and many defaults are non-UTF code pages.
What is a BOM (byte order mark)?	A leading byte sequence that signals endianness/encoding for multibyte encodings (notably UTF-16/UTF-32).
Why does UTF-16 often start with extra bytes like `b'\\xff\\xfe'`?	That’s a BOM indicating little-endian byte order.
Do `utf-16le` / `utf-16be` include a BOM by default?	No; they are explicit-endian variants that don’t emit a BOM.
What is “UTF-8 with BOM” called in Python’s codec registry?	`utf-8-sig`.
Why can a UTF-8 BOM be problematic for Unix scripts?	It breaks the `#!` shebang (the file must start with bytes `b'#!'`).
Unicode normalization: why can visually identical strings compare unequal?	They can use different code point sequences (e.g., composed vs combining forms).
What does `unicodedata.normalize('NFC', s)` do?	Composes characters to a canonical, typically shorter form (good for storage/comparison).
What does `unicodedata.normalize('NFD', s)` do?	Decomposes characters into base chars + combining marks (useful for stripping marks).
What’s the key risk of `NFKC` / `NFKD` normalization?	It applies compatibility decompositions that can lose/distort meaning (use for search/indexing, not storage).
What is case folding in Python (`str.casefold()`)?	A stronger, Unicode-aware lowercasing for case-insensitive comparisons.
Why can `casefold()` differ from `lower()` (example)?	It can map `'ß'` → `'ss'` and normalize some compatibility characters.
How can you strip diacritics from text (high level)?	Normalize to NFD, remove combining marks, then normalize back to NFC.
Why might you only strip diacritics for Latin letters?	To avoid mangling non-Latin scripts where removing marks changes the script more drastically.
Why does naive Unicode sorting often look “wrong”?	Python compares strings by code point order, not locale/collation rules.
How do you do locale-aware sorting with the standard library (Python)?	Set a locale and use `locale.strxfrm` as `key=` when sorting.
Why is `locale.setlocale` tricky in libraries?	Locale is process-global and depends on OS-installed locale data.
What is `pyuca` used for (Python)?	Locale-independent Unicode sorting using the Unicode Collation Algorithm (via a collation table).
What does the Unicode database provide (high level)?	Character metadata (names, categories, numeric values, case folding data, etc.).
What does `unicodedata.name(ch)` return?	The official Unicode name of a character (or a default/None if unassigned, depending on call).
What does `unicodedata.numeric(ch)` provide?	The numeric value of a Unicode numeric character (e.g., fractions, numerals), if defined.
Regex: how do `\\d` and `\\w` differ for `str` vs `bytes` patterns (Python)?	For `str`, they match Unicode digits/word chars; for `bytes`, they’re ASCII-only.
In `re`, how can you force ASCII-only matching on `str` patterns?	Use the `re.ASCII` flag.
Why do many `os` functions accept `str` or `bytes` paths (Python)?	To handle filenames that may not be decodable as Unicode text on some systems.
What happens if you call `os.listdir(b'.')` (Python)?	It returns filenames as `bytes` (raw OS bytes), not `str`.
What do `os.fsencode` / `os.fsdecode` do?	Convert between `str` and `bytes` filenames using the filesystem encoding (handling `PathLike` too).
What is a “data class” (design pattern, Python)?	A record-like class: mostly fields, little or no behavior.
Name 3 stdlib “data class builders” (Python).	`collections.namedtuple`; `typing.NamedTuple`; `@dataclasses.dataclass`.
What boilerplate do data class builders typically generate (Python)?	Methods like `__init__`, `__repr__`, `__eq__` (and sometimes ordering, etc.).
Are `namedtuple` / `typing.NamedTuple` instances mutable (Python)?	No; they’re tuple-based (immutable).
Are dataclass instances mutable by default (Python)?	Yes.
What does `@dataclass(frozen=True)` do (Python)?	Disallows setting/deleting fields after init (raises `FrozenInstanceError`).
Does `@dataclass` change the inheritance hierarchy (Python)?	No; it’s a decorator (the class stays a normal class, typically an `object` subclass).
Are `namedtuple` / `typing.NamedTuple` classes tuple subclasses (Python)?	Yes.
Which data class builders support `class` statement syntax (Python)?	`typing.NamedTuple` and `@dataclass`.
How do you convert a namedtuple/NamedTuple instance to a dict (Python)?	`x._asdict()`.
How do you convert a dataclass instance to a dict (Python)?	`dataclasses.asdict(x)`.
How do you get field names from a namedtuple/NamedTuple class (Python)?	`Cls._fields`.
How do you get default values from a namedtuple/NamedTuple class (Python)?	`Cls._field_defaults` (mapping of field → default).
How do you get dataclass field metadata (Python)?	`dataclasses.fields(x_or_cls)` (returns `Field` objects).
How do you make a modified copy of a namedtuple instance (Python)?	`x._replace(**kwargs)`.
How do you make a modified copy of a dataclass instance (Python)?	`dataclasses.replace(x, **kwargs)`.
How do you create a namedtuple class at runtime (Python)?	`collections.namedtuple('Name', 'a b ...')`.
How do you create a `typing.NamedTuple` class at runtime (Python)?	`typing.NamedTuple('Name', [('a', int), ...])` (or keyword form).
How do you create a dataclass at runtime (Python)?	`dataclasses.make_dataclass(...)`.
`namedtuple`: how can you pass the field names (Python)?	As an iterable of strings or a single space-delimited string.
`namedtuple`: how are field values passed to the constructor (Python)?	As separate positional args (or keywords), not as one iterable.
`namedtuple`: how do you build an instance from an iterable (Python)?	`Cls._make(iterable)` (like `Cls(*iterable)`).
`namedtuple`: what does `_asdict()` return in modern Python?	A `dict` mapping field names to values.
Since Python 3.7, how do you set defaults in `namedtuple` (Python)?	Use `namedtuple(..., defaults=[...])` (defaults apply to rightmost fields).
Where are `namedtuple` defaults stored (Python)?	`Cls._field_defaults`.
What’s the main difference of `typing.NamedTuple` vs `collections.namedtuple` (Python)?	It includes field type annotations (for static checking/IDE help).
Do Python type hints enforce types at runtime?	No.
What are type hints mainly for (Python)?	Documentation + static analysis (e.g., mypy/IDEs).
What’s the PEP 526 attribute annotation syntax (Python)?	`name: Type` (optionally `= default`).
In a plain class, what does `a: int` do (Python)?	Adds to `__annotations__` only; it does not create attribute `a`.
In a plain class, what does `b: float = 1.1` do (Python)?	Records an annotation and creates a class attribute `b = 1.1`.
In `typing.NamedTuple`, what does `a: int` become (Python)?	An instance field (read-only attribute; tuple-based).
In a dataclass, what does `a: int` become (Python)?	An instance attribute assigned by the generated `__init__`.
Where do `NamedTuple`/dataclass store field annotations (Python)?	In the class `__annotations__` mapping.
Best practice to read annotations at runtime (Python)?	Use `typing.get_type_hints(cls)` or `inspect.get_annotations(cls)`.
What does `@dataclass` do (high level, Python)?	Generates methods from annotated fields (e.g., `__init__`, `__repr__`, `__eq__`).
List the most-used `@dataclass` options (Python).	`init`, `repr`, `eq`, `order`, `unsafe_hash`, `frozen`.
What does `order=True` generate in a dataclass (Python)?	Ordering methods: `__lt__`, `__le__`, `__gt__`, `__ge__`.
Dataclass: when is `__hash__` generated by default (Python)?	When `eq=True` and `frozen=True` (otherwise it’s typically unhashable).
What is `dataclasses.field(...)` used for (Python)?	Per-field configuration (defaults, repr/compare behavior, etc.).
How do you set a per-instance mutable default in a dataclass (Python)?	Use `field(default_factory=...)` (e.g., `list`).
Why does `@dataclass` reject `guests: list = []` (Python)?	Mutable defaults would be shared across instances; use `default_factory`.
What does `default_factory` do (dataclass, Python)?	Calls a 0-arg callable to create a fresh default value per instance.
Dataclass rule about defaults ordering (Python)?	After a field with a default, all following fields must also have defaults.
Name common `field(...)` options besides `default_factory` (Python).	`default`, `init`, `repr`, `compare`, `hash`, `metadata`.
What is `__post_init__` for (dataclass, Python)?	Validation and/or computing derived values after initialization.
How does `@dataclass` use `__post_init__` (Python)?	The generated `__init__` calls it as the final step if it exists.
Why can annotating a dataclass class attribute be tricky (Python)?	An annotation can make it look like an instance field unless marked as `ClassVar`.
How do you declare a typed class variable in a dataclass (Python)?	`from typing import ClassVar`; then `x: ClassVar[T] = ...`.
What does `ClassVar[...]` signal to `@dataclass` (Python)?	It is not an instance field.
What is an init-only variable in dataclasses (Python)?	A constructor argument that isn’t stored as a field.
How do you declare an init-only variable (dataclass, Python)?	`from dataclasses import InitVar`; then `db: InitVar[DbType]`.
Where do init-only variables show up (dataclass, Python)?	They’re `__init__` params and passed to `__post_init__`, but not stored as attributes/fields.
What is the “Data Class” code smell (OOP)?	Classes with data but little/no behavior; logic lives elsewhere and manipulates them.
Refactoring idea for the data class smell (high level)?	Move related behavior into the class to co-locate data and logic.
Two cases where data classes can be reasonable (from chapter)?	Scaffolding (temporary) and intermediate representation (I/O boundary).
How should intermediate-representation objects be treated (design)?	As immutable records; avoid mutating them in-place across boundaries.
What do class patterns in `match`/`case` match (Python)?	Instances by type and optionally by attribute values.
What enables positional class patterns for a class (Python)?	`__match_args__` listing attribute names in positional-match order.
Why is `case float:` usually a bug in pattern matching (Python)?	It captures/binds the name `float` and matches anything; use `float()` for a type check.
